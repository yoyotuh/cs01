## ‚úÖ Week 8 ‚Äî File I/O & Exception Handling

**Theme:** Persisting data and handling runtime errors

---

### üéØ Learning Objectives

By the end of Week 8, students will be able to:

* ‚úÖ Open, read, and write text files in Python
* ‚úÖ Use context managers (`with`) for safe file handling
* ‚úÖ Read and write CSV files using `csv` module
* ‚úÖ Understand exceptions and handle errors gracefully
* ‚úÖ Apply file I/O and exception handling to real-world scenarios

---

### üìò Deep Concepts Explained

#### üîπ File I/O Basics

**Files:** Persistent storage for data outside program memory.

**Modes:**

| Mode | Description       |
| ---- | ----------------- |
| `r`  | Read (default)    |
| `w`  | Write (overwrite) |
| `a`  | Append            |
| `r+` | Read & write      |

```python
# Writing to a file
file = open("example.txt", "w")
file.write("Hello World\nPython is fun!")
file.close()
```

```python
# Reading from a file
file = open("example.txt", "r")
content = file.read()
print(content)
file.close()
```

---

#### üîπ Using `with` (Context Manager)

Automatically closes the file:

```python
with open("example.txt", "r") as f:
    content = f.read()
    print(content)
# file is automatically closed
```

---

#### üîπ CSV File Handling

```python
import csv

# Writing CSV
with open("data.csv", "w", newline="") as csvfile:
    writer = csv.writer(csvfile)
    writer.writerow(["Name", "Age", "Grade"])
    writer.writerow(["Alice", 20, 90])
    writer.writerow(["Bob", 21, 85])

# Reading CSV
with open("data.csv", "r") as csvfile:
    reader = csv.reader(csvfile)
    for row in reader:
        print(row)
```

---

#### üîπ Exception Handling

**Problem:** Programs crash on runtime errors (e.g., division by zero, missing file).

**Solution:** Use `try`, `except`:

```python
try:
    num = int(input("Enter number: "))
    result = 10 / num
except ValueError:
    print("Invalid input! Enter a number.")
except ZeroDivisionError:
    print("Cannot divide by zero!")
finally:
    print("Execution finished.")
```

**Notes:**

* `try` ‚Üí block that may cause error
* `except` ‚Üí handles specific error
* `finally` ‚Üí optional, runs always

---

### ‚úÖ Python Code Examples

#### Example 1 ‚Äî Writing & Reading Text

```python
# Write data
with open("notes.txt", "w") as f:
    f.write("Line 1\nLine 2\nLine 3")

# Read data
with open("notes.txt", "r") as f:
    for line in f:
        print(line.strip())
```

#### Example 2 ‚Äî Handling File Not Found

```python
try:
    with open("missing.txt", "r") as f:
        print(f.read())
except FileNotFoundError:
    print("File does not exist!")
```

#### Example 3 ‚Äî CSV Read/Write

```python
import csv

students = [["Alice",90], ["Bob",85], ["Charlie",78]]

# Write CSV
with open("students.csv", "w", newline="") as f:
    writer = csv.writer(f)
    writer.writerow(["Name", "Score"])
    writer.writerows(students)

# Read CSV
with open("students.csv", "r") as f:
    reader = csv.reader(f)
    for row in reader:
        print(row)
```

---

### üñºÔ∏è Diagrams (Placeholders)

* ![File Read/Write Flow](images/week8-file-read-write.png)
* ![Context Manager Flow](images/week8-with-context.png)
* ![Exception Handling Flow](images/week8-exception-flow.png)
* ![CSV Data Flow](images/week8-csv-data-flow.png)

---

### üè´ In-Class Exercises (3)

1. Create a text file `todo.txt` and write 5 tasks into it.
2. Read `todo.txt` and print each line with numbering.
3. Ask user for a filename to read. If file does not exist, display friendly error.

---

### ‚úÖ Solutions

**Exercise 1**

```python
tasks = ["Task 1","Task 2","Task 3","Task 4","Task 5"]
with open("todo.txt", "w") as f:
    for task in tasks:
        f.write(task + "\n")
```

**Exercise 2**

```python
with open("todo.txt", "r") as f:
    for i, line in enumerate(f, 1):
        print(f"{i}. {line.strip()}")
```

**Exercise 3**

```python
filename = input("Enter filename: ")
try:
    with open(filename, "r") as f:
        print(f.read())
except FileNotFoundError:
    print("Sorry, file not found!")
```

---

### üè† Take-Home Assignments (3)

1. **Log Analyzer:** Read a log file, count number of lines, words, and characters.
2. **CSV Processor:** Create CSV of 5 students with grades. Read CSV, calculate average grade.
3. **Safe Calculator:** Input two numbers and division operation. Handle division by zero and invalid input.

---

### üìö References

* *Think Python* ‚Äî Chapter 8: Files
* Python Docs: [https://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files](https://docs.python.org/3/tutorial/inputoutput.html)

---

### ‚ö†Ô∏è Common Mistakes & Best Practices

| Mistake                     | Solution                                 |
| --------------------------- | ---------------------------------------- |
| Not closing files           | Use `with` context manager               |
| Reading large files at once | Read line by line to save memory         |
| Ignoring exceptions         | Always handle expected errors            |
| Assuming CSV separator      | Always check delimiter, use `csv` module |

---

### üîÆ Next Week Preview

**Week 9 ‚Äî Introduction to Algorithms & Problem Solving**

* Algorithm concept and pseudocode
* Stepwise problem solving
* Flowchart creation
* Simple search & counting algorithms
* Debugging logic

---
